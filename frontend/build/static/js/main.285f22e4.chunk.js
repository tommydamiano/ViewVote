(this.webpackJsonpViewVote=this.webpackJsonpViewVote||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/you.6a4204f0.png"},44:function(e,t,a){e.exports=a(72)},53:function(e,t,a){},57:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),o=a.n(c),s=a(1),i=a(2),l=a.n(i),u=a(5),m=a(6),d=a(32),p=a.n(d);a(53);var g=function(e){var t=e.isLoggedIn,a=e.setIsLoggedIn,c=e.profilePicture,o=e.setProfilePicture,s=sessionStorage.getItem("currentUser"),i=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/profile_picture",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s})});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.pic,sessionStorage.setItem("profilePic",n),o(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i();var e=sessionStorage.getItem("profilePic");o(e)}),[]),r.a.createElement("div",{className:"LoginHeader"},t?r.a.createElement("div",{className:"logOutContainer"},r.a.createElement(p.a,{left:!0},r.a.createElement("div",{className:"logOutContainer-left"},r.a.createElement("p",{className:"spanLog"},"Sup, ",s,"!"),r.a.createElement("img",{src:c,alt:"Avi"}),r.a.createElement("p",null,"Ready to play?"))),r.a.createElement("span",{className:"buttonContainer"},r.a.createElement("button",{className:"logOutButton",onClick:function(){return sessionStorage.setItem("profilePic",""),sessionStorage.setItem("currentUser",""),a(!1),void window.location.replace("http://localhost:3000/")}},"Log out!"))):r.a.createElement("div",{className:"loginContainer"},r.a.createElement(m.b,{to:"/login",className:"login"},r.a.createElement("button",{className:"loginbutton"},"Login / Sign Up!"))))},f=a(19),h=a.n(f),b=a(3),v=a.n(b),E=a(20),O=a.n(E);a(57);var j=function(e){var t=e.isLoggedIn,a=Object(n.useState)(!1),c=Object(s.a)(a,2),o=c[0],i=c[1];return r.a.createElement("div",{className:"Homepage"},r.a.createElement("div",{className:"home-page-section"},r.a.createElement("h1",null,r.a.createElement("span",{className:"View"},"View"),r.a.createElement("img",{className:"logo",src:O.a,alt:"youtube"}),r.a.createElement("span",{className:"Vote"},"Vote")),r.a.createElement("div",{className:"mainButtons"},r.a.createElement(h.a,null,t?r.a.createElement(m.b,{to:"/game"},r.a.createElement("button",{className:"start"},"Start Game")):r.a.createElement(m.b,{to:"/home"},r.a.createElement("button",{className:"start",onClick:function(){return i(!0)}},"Start Game")),r.a.createElement(m.b,{to:"leaderboard"},r.a.createElement("button",{className:"leaderboard"},"Leaderboard")))),o&&r.a.createElement(v.a,null,r.a.createElement("p",null,"Can't start a game if you're not logged in, ya dingus!"))))},S=a(42),y=a(35),w=a.n(y),N=a(36),C=(a(60),function(e){var t=e.showPopUp,a=e.popUpMessage;return r.a.createElement(N.a,{modal:!0,open:t,lockScroll:!0,closeOnDocumentClick:!1,closeOnEscape:!1},r.a.createElement(v.a,null,r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"header"},"You Lost :("),r.a.createElement("div",{className:"content"},a),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"modal-button",onClick:function(){return window.location.reload()}}," New Game"),r.a.createElement(m.b,{to:"/home"},r.a.createElement("button",{className:"modal-button"},"Back to Main Menu"))))))}),k=a(26),I=a.n(k);a(61);var x=function(){return r.a.createElement("div",{className:"Loading"},r.a.createElement("div",{className:"loading-container"},r.a.createElement("h1",null,"Loading a new game..."),r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement("img",{src:O.a,alt:"logo"})))))};a(62);var P=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(0),i=Object(s.a)(o,2),m=i[0],d=i[1],p=Object(n.useState)(!0),g=Object(s.a)(p,2),f=g[0],h=g[1],b=Object(n.useState)(""),E=Object(s.a)(b,2),O=E[0],j=E[1],y=Object(n.useState)(""),N=Object(s.a)(y,2),k=N[0],P=N[1],L=Object(n.useState)(""),U=Object(s.a)(L,2),T=U[0],M=U[1],_=Object(n.useState)(""),D=Object(s.a)(_,2),A=D[0],B=D[1],R=Object(n.useState)(""),z=Object(s.a)(R,2),H=z[0],J=z[1],V=Object(n.useState)(""),F=Object(s.a)(V,2),G=F[0],W=F[1],K=Object(n.useState)(""),X=Object(s.a)(K,2),Y=X[0],Z=X[1],$=Object(n.useState)(0),q=Object(s.a)($,2),Q=q[0],ee=q[1],te=Object(n.useState)(0),ae=Object(s.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)(!0),oe=Object(s.a)(ce,2),se=oe[0],ie=oe[1],le=Object(n.useState)([]),ue=Object(s.a)(le,2),me=ue[0],de=ue[1],pe=Object(n.useState)(""),ge=Object(s.a)(pe,2),fe=ge[0],he=ge[1],be=Object(n.useState)(!0),ve=Object(s.a)(be,2),Ee=ve[0],Oe=ve[1],je=Object(n.useState)(!1),Se=Object(s.a)(je,2),ye=Se[0],we=Se[1],Ne=Object(n.useState)(!1),Ce=Object(s.a)(Ne,2),ke=Ce[0],Ie=Ce[1],xe=Object(n.useState)(!1),Pe=Object(s.a)(xe,2),Le=Pe[0],Ue=Pe[1],Te=Object(n.useState)("And you didn't even get a high score? Do better next time, ya dingus!!!"),Me=Object(s.a)(Te,2),_e=Me[0],De=Me[1],Ae=Object(n.useState)(!1),Be=Object(s.a)(Ae,2),Re=Be[0],ze=Be[1];Object(n.useEffect)((function(){ze(!0),function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/get_starting_videos");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.videos,console.log(n),j(n[0][3]),P(n[1][3]),J(n[0][0]),W(n[1][0]),Z(Je(n[0][1])),ee(n[0][1]),re(n[1][1]),M(n[0][4]),B(n[1][4]),de([n[0][5],n[1][5]]);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),He(),setTimeout((function(){ze(!1)}),2e3)}),[]),Object(n.useEffect)((function(){a>m&&(h(!1),De("But you got a new high score! Congrats! Are you on the leaderboard yet?? \ud83d\udc40"))}),[a,m]);var He=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("currentUser"),e.next=3,fetch("/api/get_high_score",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,r=n.highScore,d(r[0]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(e){for(var t=e.toString(),a="",n=t.length-1,r=0;n>=0;)a+=++r%3===0&&0===n?t[n]:r%3===0?"".concat(t[n],","):t[n],n--;return a.split("").reverse().join("")},Ve=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:we(!0),setTimeout(Object(u.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return we(!1),c(a+1),e.next=4,fetch("/api/get_new_video",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({videoList:me})});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,r=n.newVideo,console.log(r),j(k),P(r[3]),J(G),W(r[0]),Z(Je(ne)),ee(ne),re(r[1]),M(A),B(r[4]),de([].concat(Object(S.a)(me),[r[5]]));case 20:case"end":return e.stop()}}),e)}))),1e3);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return de([]),setTimeout((function(){c(0),Ie(!1),Ue(!0)}),1e3),t=sessionStorage.getItem("currentUser"),e.next=5,fetch("/api/update_high_score",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,high_score:a})});case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,o=r.highScore,d(o[0]),h(!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Oe(!1),he(""),"more-button"===t?ne>=Q?Ve():(Ie(!0),Fe()):ne<=Q?Ve():(Ie(!0),Fe()),setTimeout((function(){ie(!0),Oe(!0)}),1001);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"forTernary"},Re?r.a.createElement(x,null):r.a.createElement("div",{className:"Game"},r.a.createElement(C,{showPopUp:Le,popUpMessage:_e}),r.a.createElement("div",{className:"main-game-container"},r.a.createElement(I.a,{left:!0},r.a.createElement("div",{className:"left-video-container"},r.a.createElement("div",{className:"left-video-content"},r.a.createElement("h1",null,H),r.a.createElement("h3",null,"has"),r.a.createElement("h2",null,Y," views"),r.a.createElement("iframe",{className:"iframe-video",width:"330",height:"200",src:"https://www.youtube.com/embed/".concat(T),title:"leftVideoUrl",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})))),r.a.createElement("div",{className:"centered-icon"},Ee?r.a.createElement(v.a,{delay:150,transitionDuration:500},r.a.createElement("div",{className:"vs-icon"},"VS")):null,ye?r.a.createElement(v.a,{delay:150,transitionDuration:500},r.a.createElement("div",{className:"checkmark-icon"},"\u2713")):null,ke?r.a.createElement(v.a,{delay:150,transitionDuration:500},r.a.createElement("div",{className:"x-wrong-icon"},"X")):null),r.a.createElement(I.a,{right:!0},r.a.createElement("div",{className:"right-video-container"},r.a.createElement("div",{className:"right-video-content"},r.a.createElement("h1",null,G),r.a.createElement("h3",null,"has"),r.a.createElement("div",{className:"right-video-button-container"},se?r.a.createElement("div",null,r.a.createElement("button",{className:"more-button".concat(fe),onClick:function(e){e.persist(),setTimeout((function(){return Ge(e.target.className)}),2500),ie(!1)}},"More"),r.a.createElement("button",{className:"less-button",onClick:function(e){e.persist(),setTimeout((function(){return Ge(e.target.className)}),2500),ie(!1)},onMouseEnter:function(){return he("-blur")},onMouseLeave:function(){return he("")}},"Less")):r.a.createElement("h2",null,r.a.createElement(w.a,{start:0,end:ne,duration:2,separator:","})," views")),se?r.a.createElement("h2",null,"views"):null,r.a.createElement("iframe",{className:"iframe-video",width:"330",height:"200",src:"https://www.youtube.com/embed/".concat(A),title:"rightVideoUrl",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}))))),r.a.createElement("style",{dangerouslySetInnerHTML:{__html:'.left-video-container \n          { background: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.4)), url("'.concat(O,'") center no-repeat; \n          background-size: cover; -o-background-size: cover; -moz-background-size: cover; -webkit-background-size: cover; }')}}),r.a.createElement("style",{dangerouslySetInnerHTML:{__html:'.right-video-container \n          { background: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.4)), url("'.concat(k,'") center no-repeat; \n          background-size: cover; -o-background-size: cover; -moz-background-size: cover; -webkit-background-size: cover; }')}}),r.a.createElement("div",{className:"game-score-container"},r.a.createElement(v.a,null,r.a.createElement("h1",{className:"current-score"},"Current Score: ",a)),f?r.a.createElement(v.a,null,r.a.createElement("h1",{className:"high-score"},"High Score: ",m)):null)))};a(63);var L=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)("fade"),i=Object(s.a)(o,2),m=i[0],d=i[1];return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/leaderboard");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.entrants,console.log(n),d(""),c(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(v.a,null,r.a.createElement("div",{className:"leaderboard-container".concat(m)},r.a.createElement("div",{className:"leaderboard-contents"},r.a.createElement("div",{className:"leaderboard-columns"},r.a.createElement("p",{className:"username-column"},"Username"),r.a.createElement("p",{className:"highscore-column"},"High Score")),a.map((function(e,t){return r.a.createElement(v.a,{delay:100,transitionDuration:600},r.a.createElement("div",{key:t,className:"useless-container-leaderboard"},r.a.createElement("div",{className:"leaderboard-entries".concat(t)},r.a.createElement("div",{className:"user-container"},r.a.createElement("p",{className:"entry-1"},t+1,". ",e[0]),r.a.createElement("img",{src:e[1],alt:"firebase-profilepic"})),r.a.createElement("p",{className:"entry-2"},e[2])),r.a.createElement("div",{className:"entry-border"})))})))))},U=a(37),T=a.n(U);a(64);var M=function(e){var t=e.profilePicture,a=e.setProfilePicture,c=e.isLoggedIn;return Object(n.useEffect)((function(){var e=sessionStorage.getItem("profilePic");a(e)}),[]),r.a.createElement("div",{className:"menu-overall-container"},c?r.a.createElement("div",{className:"menu-header-container"},r.a.createElement(T.a,{left:!0},r.a.createElement("img",{src:t,alt:"avi"})),r.a.createElement("div",{className:"MenuHeader"},r.a.createElement(m.b,{to:"/home"},r.a.createElement("button",{className:"menuButton"},"Return to Main Menu")))):r.a.createElement("div",{className:"MenuHeader2"},r.a.createElement(m.b,{to:"/home"},r.a.createElement("button",{className:"menuButton"},"Return to Main Menu"))))},_=a(38),D=a(39),A=a(41),B=a(43),R=a(40),z=a.n(R);a(65);var H="image/x-png, image/png, image/jpg, image/jpeg, image/gif".split(",").map((function(e){return e.trim()})),J=function(e){Object(B.a)(a,e);var t=Object(A.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).verifyFile=function(e){if(e&&e.length>0){var t=e[0],a=t.type,r=t.size;return r>1e9?(n.props.setPictureHasBeenUploaded(!1),alert("This file is not allowed. "+r+" bytes is too large"),!1):!!H.includes(a)||(n.props.setPictureHasBeenUploaded(!1),alert("This file is not allowed. Please upload an image."),!1)}},n.handleOnCropChange=function(e){n.setState({crop:e})},n.handleOnCropComplete=function(e){!function(e,t,a){var n=e;n.width=a.width,n.height=a.height;var r=n.getContext("2d"),c=new Image;c.src=t,c.onload=function(){r.drawImage(c,a.x,a.y,a.width,a.height,0,0,a.width,a.height)}}(n.imagePreviewCanvasRef.current,n.state.imgSrc,e)},n.handleDownloadClick=function(e){e.preventDefault();var t=new Array(30).join().replace(/(.|$)/g,(function(){return(36*Math.random()|0).toString(36)[Math.random()<.5?"toString":"toUpperCase"]()})),a=n.imagePreviewCanvasRef.current,r=n.state.imgSrcExt,c=function(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?);/)[1],r=atob(a[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:n})}(a.toDataURL("image/"+r),"".concat(t,"_file.")+r);n.props.handlePicUpload(c)},n.handleFileSelect=function(){var e=n.props.profilePic;if(e&&e.length>0&&n.verifyFile(e)){var t=e[0],a=new FileReader;a.addEventListener("load",(function(){var e,t=a.result;n.setState({imgSrc:t,imgSrcExt:(e=t,e.substring("data:image/".length,e.indexOf(";base64"))),fade:!0})}),!1),a.readAsDataURL(t)}},n.imagePreviewCanvasRef=r.a.createRef(),n.fileInputRef=r.a.createRef(),n.state={imgSrc:null,imgSrcExt:null,fade:!1,crop:{x:175,y:150,aspect:1,width:300,height:300}},n}return Object(D.a)(a,[{key:"componentDidUpdate",value:function(){"true"===this.props.pictureHasBeenUploaded&&this.handleFileSelect()}},{key:"render",value:function(){var e=this.state.imgSrc;return this.state.fade?r.a.createElement(v.a,{className:"fade-in",delay:150,transitionDuration:700},r.a.createElement("div",{className:"useless-container".concat(this.props.pictureHasBeenUploaded)},r.a.createElement("div",{className:"overall-container"},r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"header-container"},r.a.createElement("h1",null,"Please crop your profile picture"),r.a.createElement("h2",{className:"second-header"},"so it doesn't look like shit on my website!"),r.a.createElement("button",{onClick:this.handleDownloadClick},"Crop")),r.a.createElement("div",{className:"image-container"},r.a.createElement(z.a,{className:"profilePicCrop",circularCrop:!0,src:e,crop:this.state.crop,minWidth:300,minHeight:300,onComplete:this.handleOnCropComplete,onChange:this.handleOnCropChange})))),r.a.createElement("div",{className:"canvas-container"},r.a.createElement("canvas",{className:"previewCanvas",ref:this.imagePreviewCanvasRef})))):null}}]),a}(n.Component),V=a(21),F=a.n(V);a(73);F.a.initializeApp({apiKey:"AIzaSyDOAEjejUZ5NN9KxRwtAa__y6EWITTG-sI",authDomain:"viewvote-6f094.firebaseapp.com",databaseURL:"https://viewvote-6f094.firebaseio.com",projectId:"viewvote-6f094",storageBucket:"viewvote-6f094.appspot.com",messagingSenderId:"45757175857",appId:"1:45757175857:web:86c64eb06e09d8d836dd10",measurementId:"G-EL85GPP4DN"});var G=F.a.storage();a(67),a(68);var W=function(e){var t=e.setIsLoggedIn,a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],i=c[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),p=d[0],g=d[1],f=Object(n.useState)(""),h=Object(s.a)(f,2),b=h[0],E=h[1],O=Object(n.useState)(""),j=Object(s.a)(O,2),S=j[0],y=j[1],w=Object(n.useState)(""),N=Object(s.a)(w,2),C=N[0],k=N[1],I=Object(n.useState)(""),x=Object(s.a)(I,2),P=x[0],L=x[1],U=Object(n.useState)(""),T=Object(s.a)(U,2),M=T[0],_=T[1],D=Object(n.useState)(""),A=Object(s.a)(D,2),B=A[0],R=A[1],z=Object(n.useState)(""),H=Object(s.a)(z,2),V=H[0],F=H[1],W=Object(n.useState)(""),K=Object(s.a)(W,2),X=K[0],Y=K[1],Z=Object(n.useState)(""),$=Object(s.a)(Z,2),q=$[0],Q=$[1],ee=Object(n.useState)(null),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(""),ce=Object(s.a)(re,2),oe=ce[0],se=ce[1],ie=Object(n.useState)(""),le=Object(s.a)(ie,2),ue=le[0],me=le[1],de=function(){var e=Object(u.a)(l.a.mark((function e(){var a,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(""),p===b){e.next=5;break}return L("Passwords do not match ya dingus! Please try again"),_("red"),e.abrupt("return",null);case 5:if(ae){e.next=9;break}return L("Add a profile picture ya dingus!"),_("red"),e.abrupt("return",null);case 9:return e.next=11,fetch("/api/create",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:p,email:S,profile_pic:oe})});case 11:return a=e.sent,e.next=14,a.json();case 14:if("Username or Email is already taken, please try again!"===(n=e.sent).message&&_("red"),"Not a valid email address ya dingus! Please try again"===n.message&&_("red"),L(n.message),"Account Created! Sign in to start playing!"!==n.message){e.next=29;break}return sessionStorage.setItem("isLoggedIn",!1),e.next=22,fetch("/api/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:S,password:p})});case 22:return r=e.sent,e.next=25,r.json();case 25:c=e.sent,sessionStorage.setItem("currentUser",c.user),t(!0),window.location.replace("http://localhost:3000/home");case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(u.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.setItem("isLoggedIn",!1),Q(""),e.next=4,fetch("/api/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:B,password:V})});case 4:return a=e.sent,e.next=7,a.json();case 7:"Sorry, no info associated with that account. Please try again!"===(n=e.sent).message?Q("red"):(t(!0),sessionStorage.setItem("currentUser",n.user),window.location.replace("http://localhost:3000/home")),Y(n.message);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"sliderLogin"},r.a.createElement(J,{profilePic:ae,handlePicUpload:function(e){me(""),G.ref("images/".concat(e.name)).put(e).on("state_changed",(function(){G.ref("images").child(e.name).getDownloadURL().then((function(e){return se(e)}))})),_(""),L("Crop successful!")},pictureHasBeenUploaded:ue,setPictureHasBeenUploaded:me}),r.a.createElement(v.a,{delay:150,transitionDuration:700},r.a.createElement("div",{className:"hide-container-div".concat(ue)},r.a.createElement("div",{className:"container ".concat(C),id:"container"},r.a.createElement("div",{className:"form-container sign-up-container"},r.a.createElement("div",{className:"Form"},r.a.createElement("h1",null,"Create Account"),r.a.createElement("input",{type:"text",placeholder:"Username",onChange:function(e){return i(e.target.value)}}),r.a.createElement("input",{type:"email",placeholder:"Email",onChange:function(e){return y(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(e){return g(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Confirm password",onChange:function(e){return E(e.target.value)}}),r.a.createElement("label",null,"Upload a Profile Picture"),r.a.createElement("div",{className:"smaller-pictures"},r.a.createElement("label",null,"(smaller pictures work better!)")),r.a.createElement("input",{type:"file",accept:"image/*",id:"files",className:"profilePicture-upload",onChange:function(e){ne(e.target.files),me("true")}}),r.a.createElement("button",{onClick:function(){return de()}},"Sign up / Sign In"),r.a.createElement("p",{className:"createMessage".concat(M)},P))),r.a.createElement("div",{className:"form-container sign-in-container"},r.a.createElement("div",{className:"Form"},r.a.createElement("h1",null,"Sign in"),r.a.createElement("input",{type:"text",placeholder:"Username or Email",onChange:function(e){return R(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(e){return F(e.target.value)}}),r.a.createElement("button",{onClick:function(){return pe()}},"Sign in"),r.a.createElement("p",{className:"loginMessage".concat(q)},X))),r.a.createElement("div",{className:"overlay-container"},r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"overlay-panel overlay-left"},r.a.createElement("h1",null,"Welcome Back!"),r.a.createElement("p",null,"What are you doing here? Go back so you can sign in ya dingus!"),r.a.createElement("button",{onClick:function(){return k("")},className:"ghost"},"Back to Sign In")),r.a.createElement("div",{className:"overlay-panel overlay-right"},r.a.createElement("h1",null,"Well well, hello there!"),r.a.createElement("p",null,"Enter your ~personal details~ to start viewing and voting!"),r.a.createElement("button",{className:"ghost",onClick:function(){return k("right-panel-active")}},"Sign Up"))))))))};a(69);var K=function(e){var t=e.setIsLoggedIn,a=e.setShowSmallSignup,c=Object(n.useState)(""),o=Object(s.a)(c,2),i=o[0],m=o[1],d=Object(n.useState)(""),p=Object(s.a)(d,2),g=p[0],f=p[1],h=Object(n.useState)(""),b=Object(s.a)(h,2),E=b[0],O=b[1],j=Object(n.useState)(""),S=Object(s.a)(j,2),y=S[0],w=S[1],N=Object(n.useState)(""),C=Object(s.a)(N,2),k=C[0],I=C[1],x=function(){var e=Object(u.a)(l.a.mark((function e(){var a,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E===y){e.next=3;break}return m("Passwords do not match ya dingus! Please try again"),e.abrupt("return",null);case 3:return e.next=5,fetch("/api/create",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:g,password:E,email:k,profile_pic:"https://firebasestorage.googleapis.com/v0/b/viewvote-6f094.appspot.com/o/images%2Fblank-profile-picture-973460_640.png?alt=media&token=61cf5713-8cbe-4ec1-be83-c8f003e42703"})});case 5:return a=e.sent,e.next=8,a.json();case 8:if(n=e.sent,m(n.message),"Account Created! Sign in to start playing!"!==n.message){e.next=21;break}return sessionStorage.setItem("isLoggedIn",!1),e.next=14,fetch("/api/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:k,password:E})});case 14:return r=e.sent,e.next=17,r.json();case 17:c=e.sent,sessionStorage.setItem("currentUser",c.user),t(!0),window.location.replace("http://localhost:3000/home");case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(v.a,{delay:150,transitionDuration:700},r.a.createElement("div",{className:"SignupMobile"},r.a.createElement("div",{className:"signup-mobile-container"},r.a.createElement("h1",null,"Create an Account"),r.a.createElement("input",{type:"text",placeholder:"Choose a username",onChange:function(e){return f(e.target.value)}}),r.a.createElement("input",{type:"email",placeholder:"Enter your email",onChange:function(e){return I(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Enter your password",onChange:function(e){return O(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Confirm your password",onChange:function(e){return w(e.target.value)}}),r.a.createElement("button",{onClick:function(){return x()}},"Sign Up / Login!"),r.a.createElement("p",null,i),r.a.createElement("button",{onClick:function(){return a(!1)}},"Back to Sign In"))))};a(70);var X=function(e){var t=e.setIsLoggedIn,a=e.showSmallSignup,c=e.setShowSmallSignup,o=Object(n.useState)(""),i=Object(s.a)(o,2),m=i[0],d=i[1],p=Object(n.useState)(""),g=Object(s.a)(p,2),f=g[0],h=g[1],b=Object(n.useState)(""),E=Object(s.a)(b,2),O=E[0],j=E[1],S=function(){var e=Object(u.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.setItem("isLoggedIn",!1),e.next=3,fetch("/api/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m,password:f})});case 3:return a=e.sent,e.next=6,a.json();case 6:"Sorry, no info associated with that account. Please try again!"===(n=e.sent).message?j(n.message):(t(!0),j(n.message),sessionStorage.setItem("currentUser",n.user),window.location.replace("http://localhost:3000/home"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"mobile-account-page"},a?r.a.createElement(K,{setIsLoggedIn:t,setShowSmallSignup:c}):r.a.createElement(v.a,{delay:150,transitionDuration:700},r.a.createElement("div",{className:"LoginMobile"},r.a.createElement("div",{className:"login-mobile-container"},r.a.createElement("h1",null,"Sign In"),r.a.createElement("input",{type:"text",placeholder:"Username or Email",onChange:function(e){return d(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}}),r.a.createElement("button",{onClick:function(){return S()}},"Sign in"),r.a.createElement("p",null,O),r.a.createElement("button",{onClick:function(){return c(!0)}},"No Account? Sign up here!")))))},Y=a(12);a(71);var Z=function(){var e=function(e,t){var a=Object(n.useState)((function(){return JSON.parse(sessionStorage.getItem(e))||t})),r=Object(s.a)(a,2),c=r[0],o=r[1];return Object(n.useEffect)((function(){sessionStorage.setItem(e,JSON.stringify(c))}),[e,c]),[c,o]}("isLoggedIn",!1),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(null),i=Object(s.a)(o,2),l=i[0],u=i[1],d=Object(n.useState)(window.innerWidth<800),p=Object(s.a)(d,2),f=p[0],h=p[1],b=Object(n.useState)(!1),v=Object(s.a)(b,2),E=v[0],O=v[1],S=function(){h(window.innerWidth<800)};return Object(n.useEffect)((function(){return window.addEventListener("resize",S),function(){return window.removeEventListener("resize",S)}})),r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(Y.d,null,r.a.createElement(Y.b,{exact:!0,path:"/"},r.a.createElement(Y.a,{to:"/home"})),r.a.createElement(Y.b,{exact:!0,path:"/home"},r.a.createElement(g,{isLoggedIn:a,setIsLoggedIn:c,profilePicture:l,setProfilePicture:u}),r.a.createElement(j,{isLoggedIn:a})),r.a.createElement(Y.b,{exact:!0,path:"/game"},r.a.createElement(M,{isLoggedIn:a,profilePicture:l,setProfilePicture:u}),r.a.createElement(P,null)),r.a.createElement(Y.b,{exact:!0,path:"/leaderboard"},r.a.createElement(M,{isLoggedIn:a,profilePicture:l,setProfilePicture:u}),r.a.createElement(L,null)),r.a.createElement(Y.b,{exact:!0,path:"/login"},r.a.createElement(M,{isLoggedIn:a,profilePicture:l,setProfilePicture:u}),f?r.a.createElement(X,{setIsLoggedIn:c,showSmallSignup:E,setShowSmallSignup:O}):r.a.createElement(W,{setIsLoggedIn:c})))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.285f22e4.chunk.js.map